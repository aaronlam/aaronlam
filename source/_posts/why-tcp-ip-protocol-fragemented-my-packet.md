---
title: 为什么TCP/IP要拆分我的数据
date: 2019-05-31 21:00:00
tags:
  - TCP
  - 网络
  - 数据包
categories:
  - 网络
---

TCP/IP 作为目前互联网举足轻重的网络通信协议，不是没有它的道理。TCP/IP 提供供了点对点的链接机制，以让源机器中的源进程发出的数据能够送达目标机器的目标进程里去，这其中的**资料封装、寻址、传输、路由、接收**都会以标准化的操作完成，并且它们还能保证数据在传输过程中**有序**、**不重**、**不漏**。

但是你不知道的是，当应用层协议使用传输层的 TCP 协议进行数据传输时，传输层 TCP 协议可能会将应用层发送的消息分成多个数据段，我们一般称呼它叫：**TCP 分段**。而在其下层的网络层的 IP 协议也有可能会对传输层 TCP 协议的数据段分成多个数据包，我们一般称呼它叫：**IP 分片**。但是由于 TCP 协议会自行先分段，所以正常情况下都轮不到 IP 协议进行分包。那为什么它们要拆分我们的数据呢？又为什么 TCP 协议自行分段后，就没 IP 协议什么事了呢？我们带着这些疑问继续探索。

<!--more-->

![TCP分段IP分包](https://cdn.jsdelivr.net/gh/aaronlam/imghosting/20201031123646.png)

在开始之前，我们先达成共识：

1. 协议层中传输数据的基本单位统称为：Data Unit（数据单元）
2. 网络层传输的数据单元称为：Packet(包）
3. 传输层传输的数据单元称为：Segment（段）
4. 应用层传输的数据单元称为：Message（消息）
